//@ui5-bundle emlatracker/emlatracker/Component-preload.js
sap.ui.predefine("emlatracker/emlatracker/Component", ["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("emlatracker.emlatracker.Component",{metadata:{manifest:"json"}})});
sap.ui.predefine("emlatracker/emlatracker/ext/controller/IconHelpController", ["sap/ui/core/Fragment"],function(o){"use strict";var e;var l={onCloseIconHelpDialog:function(){console.log("Close button clicked");if(e){console.log("Closing dialog");e.close()}else{console.log("Dialog not found")}},onAfterCloseIconHelpDialog:function(){console.log("Dialog closed successfully")}};return{onOpenIconHelpDialog:function(n,c){console.log("Opening help dialog");if(!e){o.load({name:"emlatracker.emlatracker.ext.fragment.IconHelpDialog",controller:l}).then(function(o){e=o;console.log("Dialog created successfully");o.attachAfterOpen(function(){console.log("Dialog opened");setTimeout(function(){var e=o.getButtons()[0];if(e){e.focus();console.log("Focus set to close button")}},100)});e.open()}).catch(function(o){console.error("Error loading dialog fragment:",o)})}else{console.log("Dialog already exists, opening");e.open()}}}});
sap.ui.predefine("emlatracker/emlatracker/ext/formatter/TrackAppFormatter", [],function(){"use strict";function o(o){console.log("DEBUG: _normalizeCompleted input:",o,"type:",typeof o);if(o===true)return true;if(o===1)return true;if(typeof o==="string"){var n=o.trim().toLowerCase();var e=n==="true"||n==="x"||n==="1"||n==="yes";console.log("DEBUG: string '"+o+"' normalized to:",e);return e}console.log("DEBUG: value normalized to false");return false}function n(n,e,t,r){console.log("DEBUG: icon() called with trackApp:",n,"completed:",e,"emlaType:",t,"sessionType:",r);if(t==="Private Cloud ERP"){console.log("DEBUG: Private Cloud ERP - no icons");return""}if(t==="Public Cloud ERP"&&r!=="TP1"){console.log("DEBUG: Public Cloud ERP - only TP1 allowed, this is:",r);return""}if(t==="Integration Suite"){console.log("DEBUG: Integration Suite - all session types allowed")}if(!n||n.trim()===""){console.log("DEBUG: trackApp is empty, returning create icon");return"sap-icon://create"}console.log("DEBUG: trackApp has value, checking completion");var i=o(e);console.log("DEBUG: normalized completed to:",i);var l=i?"sap-icon://status-completed":"sap-icon://document-text";console.log("DEBUG: returning icon:",l);return l}function e(n,e,t){if(!t)t="Sessão";if(!n||n.trim()===""){return""}return o(e)?t+" concluído":t+" em andamento"}function t(n){return o(n)?"emlaIconGreen":""}function r(n,e){if(!n||n.trim()===""){return"Default"}return o(e)?"Positive":"Default"}return{iconTP1:function(o,e,t){return n(o,e,t,"TP1")},tooltipTP1:function(o,n){return e(o,n,"TP1")},colorTP1:function(o,n){return r(o,n)},iconTP2:function(o,e,t){return n(o,e,t,"TP2")},tooltipTP2:function(o,n){return e(o,n,"TP2")},colorTP2:function(o,n){return r(o,n)},iconSH:function(o,e,t){return n(o,e,t,"SH")},tooltipSH:function(o,n){return e(o,n,"SH")},colorSH:function(o,n){return r(o,n)},greenClass:t}});
sap.ui.predefine("emlatracker/emlatracker/ext/fragment/OpenApp", ["sap/m/MessageToast","sap/m/MessageBox"],function(e,o){"use strict";var n={onPressEMLA:function(e){const t="https://emla-prod.launchpad.cfapps.us10.hana.ondemand.com/site/prod#CustomerData-manage?sap-ui-app-id-hint=saas_approuter_com.sap.rise.managecustomerdata&/CustomerMaster(ID=#ID#,IsActiveEntity=true)";const a="https://onb.launchpad.cfapps.eu10.hana.ondemand.com/site/onb#session-manage?sap-ui-app-id-hint=saas_approuter_session&/Sessions(ID=#ID#,IsActiveEntity=true)?layout=MidColumnFullScreen";var r=e.getSource();var l=r.getParent();var c=l.getBindingContext();var s=c.getObject();var i=r.getCustomData();var p="";i.forEach(function(e){if(e.getKey()==="action"){p=e.getValue()}});const u=s.ID;const d=this.getModel();var g=d.bindContext(`/EMLACustomers('${u}')`);g.requestObject().then(function(e){console.log("=== DEBUG INFO ===");console.log("Button pressed:",p);console.log("Customer ID:",u);console.log("Complete data:",e);console.log("Raw trackApp values from API:");console.log("  trackApp:",e.trackApp);console.log("  trackAppTP2:",e.trackAppTP2);console.log("  trackAppSH:",e.trackAppSH);console.log("=== END DEBUG ===");var o=e.emlaType;var r=o;if(o){const e=o.toLowerCase();if(e.includes("private")&&e.includes("cloud")&&e.includes("erp")){o="Private Cloud ERP"}else if(e.includes("public")&&e.includes("cloud")&&e.includes("erp")){o="Public Cloud ERP"}else if(e.includes("integration")&&e.includes("suite")){o="Integration Suite"}}if(r!==o){console.log(`Normalized emlaType '${r}' -> '${o}'`)}var l=p;n._defineAction(o,l,e,c,d,u,a,t)}.bind(this)).catch(function(e){o.error("Error: "+e.message)})},_defineAction:function(t,a,r,l,c,s,i,p){if(t){const e=t.toLowerCase();if(e.includes("private")&&e.includes("cloud")&&e.includes("erp")){t="Private Cloud ERP"}else if(e.includes("public")&&e.includes("cloud")&&e.includes("erp")){t="Public Cloud ERP"}else if(e.includes("integration")&&e.includes("suite")){t="Integration Suite"}}var u=t+"_"+a;console.log("Action Key:",u);switch(u){case"Public Cloud ERP_button1":e.show("Opening Touch Point 1 for Public Cloud ERP");n._handleTrackApp(r,l,c,s,i,"button1");break;case"Public Cloud ERP_button2":e.show("Opening Touch Point 2 for Public Cloud ERP");n._handleTrackApp(r,l,c,s,i,"button2");break;case"Integration Suite_button1":e.show("Opening Touch Point 1 for Integration Suite");n._handleTrackApp(r,l,c,s,i,"button1");break;case"Integration Suite_button2":e.show("Opening Touch Point 2 for Integration Suite");n._handleTrackApp(r,l,c,s,i,"button2");break;case"Integration Suite_button3":e.show("Opening Sales Handover for Integration Suite");n._handleTrackApp(r,l,c,s,i,"button3");break;case"Private Cloud ERP_button1":if(!r.externalID){o.warning("External ID ausente para Workflow App. Atualize o registro antes de abrir.");return}e.show("Opening Workflow App for Private Cloud ERP");var d=p.replace("#ID#",r.externalID);window.open(d,"_blank");break;case"Cloud ERP Private_button1":console.log("[Fallback] Handling 'Cloud ERP Private' variant");if(!r.externalID){o.warning("External ID ausente para Workflow App (variant). Atualize o registro antes de abrir.");return}e.show("Opening Workflow App (variant)");var g=p.replace("#ID#",r.externalID);window.open(g,"_blank");break;default:console.log("Empty button clicked, no action defined");break}},_handleTrackApp:function(n,t,a,r,l,c){var s="trackApp";var i="";var p="onbTrackApp";var u="TP1";switch(c){case"button1":s="trackApp";i=n.trackApp;p="onbTrackApp";u="TP1";break;case"button2":s="trackAppTP2";i=n.trackAppTP2;p="onbTrackAppTP2";u="TP2";break;case"button3":s="trackAppSH";i=n.trackAppSH;p="onbTrackAppSH";u="SH";break;default:s="trackApp";i=n.trackApp;p="onbTrackApp";u="TP1";break}console.log("=== FIELD CHECK DEBUG ===");console.log("Button type:",c);console.log("Field to check:",s);console.log("Field value:",i);console.log("Is field empty?",!i);console.log("Backend action:",p);console.log("Will call backend?",!i);console.log("=== END FIELD CHECK DEBUG ===");console.log("=== FIELD CHECK DEBUG ===");console.log("Button type:",c);console.log("Field to check:",s);console.log("Field value:",i);console.log("Is field empty?",!i);console.log("Backend action:",p);console.log("Will call backend?",!i);console.log("=== END FIELD CHECK DEBUG ===");if(!i){const n=a.bindContext(`/${p}(...)`);n.setParameter("ID",r);n.setParameter("sessionType",u);n.execute().then(()=>{const o=n.getBoundContext().getObject();var a=o[s]||o.trackApp;var r=l.replace("#ID#",a);window.open(r,"_blank");console.log("Generated URL:",r);e.show(`${s}: ${a}`);t.refresh()}).catch(e=>{o.error(`Error: ${e.message}`)})}else{var d=l.replace("#ID#",i);window.open(d,"_blank");console.log("Using existing URL:",d);e.show(`Opening ${s}: ${i}`)}}};return n});
sap.ui.require.preload({
	"emlatracker/emlatracker/ext/fragment/IconHelpDialog.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"><Dialog id="iconHelpDialog" title="Session Status Icons Guide" class="sapUiContentPadding" \n\t\t\tdraggable="true" resizable="true" afterClose="onAfterCloseIconHelpDialog"><content><VBox id="helpContentVBox" class="sapUiMediumMarginBegin sapUiMediumMarginEnd"><Text id="helpIntroText" class="sapUiMediumMarginBottom" text="This guide explains the meaning of each session status icon in the EMLA Tracker:"/><HBox id="completedIconBox" alignItems="Center" class="sapUiSmallMarginBottom"><core:Icon id="completedIcon" src="sap-icon://status-completed" class="emlaIconGreen sapUiSmallMarginEnd" width="1.5rem" decorative="false" alt="Status completed icon"/><VBox id="completedDescBox"><Text id="completedTitle" text="Session Completed" class="sapUiMediumText"/><Text id="completedDesc" text="The session has been successfully completed" class="sapUiSmallText"/></VBox></HBox><HBox id="progressIconBox" alignItems="Center" class="sapUiSmallMarginBottom"><core:Icon id="progressIcon" src="sap-icon://document-text" class="sapUiSmallMarginEnd" width="1.5rem" decorative="false" alt="Document text icon"/><VBox id="progressDescBox"><Text id="progressTitle" text="Session In Progress" class="sapUiMediumText"/><Text id="progressDesc" text="The session has been created and is currently in progress" class="sapUiSmallText"/></VBox></HBox><HBox id="createIconBox" alignItems="Center" class="sapUiSmallMarginBottom"><core:Icon id="createIcon" src="sap-icon://create" class="sapUiSmallMarginEnd" width="1.5rem" decorative="false" alt="Create icon"/><VBox id="createDescBox"><Text id="createTitle" text="Session Available for Creation" class="sapUiMediumText"/><Text id="createDesc" text="The session will be created when you access the 1:1 App" class="sapUiSmallText"/></VBox></HBox><MessageStrip id="helpNote" text="Note: Icons only appear for applicable session types based on your EMLA Type (Private Cloud ERP shows no icons, Public Cloud ERP shows only TP1, Integration Suite shows all three)" \n\t\t\t\t\ttype="Information" class="sapUiMediumMarginTop"/></VBox></content><buttons><Button id="closeHelpButton" text="Close" press="onCloseIconHelpDialog" type="Emphasized"/></buttons></Dialog></core:FragmentDefinition>',
	"emlatracker/emlatracker/ext/fragment/OpenApp.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"><HBox id="openAppContainer" class="sapUiTinyContentPadding"><items><HBox id="hboxButton1"><core:Icon id="iconTP1" core:require="{formatter: \'emlatracker/emlatracker/ext/formatter/TrackAppFormatter\'}"\n\t\t\t\t\tsrc="{parts:[{path:\'trackApp\'},{path:\'isTrackAppCompleted\'},{path:\'emlaType\'}], formatter:\'formatter.iconTP1\'}"\n\t\t\t\t\tcolor="{parts:[{path:\'trackApp\'},{path:\'isTrackAppCompleted\'}], formatter:\'formatter.colorTP1\'}"\n\t\t\t\t\tclass="emlaIconPad"\n\t\t\t\t\ttooltip="{parts:[{path:\'trackApp\'},{path:\'isTrackAppCompleted\'}], formatter:\'formatter.tooltipTP1\'}"/><Link id="button1"\n\t\t\t\t\t  text="{= ${emlaType} === \'Public Cloud ERP\' ? \'TP1\' : ${emlaType} === \'Integration Suite\' ? \'TP1\' : \'Workflow App\'}"\n\t\t\t\t\t  press="handler.onPressEMLA" \n\t\t\t\t\t  core:require="{ handler: \'emlatracker/emlatracker/ext/fragment/OpenApp\'}"\n\t\t\t\t\t  class="sapUiTinyMarginEnd sapUiTinyMarginBegin"><customData><core:CustomData key="action" value="button1" /></customData></Link></HBox><Text text="{= ${emlaType} === \'Integration Suite\' ? \' | \' : \'\'}" id="separator1" \n\t\t\t\t  class="sapUiTinyMarginEnd"/><HBox id="hboxButton2"><core:Icon id="iconTP2" core:require="{formatter: \'emlatracker/emlatracker/ext/formatter/TrackAppFormatter\'}"\n\t\t\t\t\tsrc="{parts:[{path:\'trackAppTP2\'},{path:\'isTrackAppTP2Completed\'},{path:\'emlaType\'}], formatter:\'formatter.iconTP2\'}"\n\t\t\t\t\tcolor="{parts:[{path:\'trackAppTP2\'},{path:\'isTrackAppTP2Completed\'}], formatter:\'formatter.colorTP2\'}"\n\t\t\t\t\tclass="emlaIconPad"\n\t\t\t\t\ttooltip="{parts:[{path:\'trackAppTP2\'},{path:\'isTrackAppTP2Completed\'}], formatter:\'formatter.tooltipTP2\'}"/><Link id="button2"\n\t\t\t\t\t  text="{= ${emlaType} === \'Integration Suite\' ? \'TP2\' : \'\'}"\n\t\t\t\t\t  press="handler.onPressEMLA" \n\t\t\t\t\t  core:require="{ handler: \'emlatracker/emlatracker/ext/fragment/OpenApp\'}"\n\t\t\t\t\t  class="sapUiTinyMarginEnd sapUiTinyMarginBegin"><customData><core:CustomData key="action" value="button2" /></customData></Link></HBox><Text text="{= ${emlaType} === \'Integration Suite\' ? \' | \' : \'\'}" id="separator2" \n\t\t\t\t  class="sapUiTinyMarginEnd"/><HBox id="hboxButton3"><core:Icon id="iconSH" core:require="{formatter: \'emlatracker/emlatracker/ext/formatter/TrackAppFormatter\'}"\n\t\t\t\t\tsrc="{parts:[{path:\'trackAppSH\'},{path:\'isTrackAppSHCompleted\'},{path:\'emlaType\'}], formatter:\'formatter.iconSH\'}"\n\t\t\t\t\tcolor="{parts:[{path:\'trackAppSH\'},{path:\'isTrackAppSHCompleted\'}], formatter:\'formatter.colorSH\'}"\n\t\t\t\t\tclass="emlaIconPad"\n\t\t\t\t\ttooltip="{parts:[{path:\'trackAppSH\'},{path:\'isTrackAppSHCompleted\'}], formatter:\'formatter.tooltipSH\'}"/><Link id="button3"\n\t\t\t\t\t  text="{= ${emlaType} === \'Integration Suite\' ? \'SH\' : \'\'}"\n\t\t\t\t\t  press="handler.onPressEMLA" \n\t\t\t\t\t  core:require="{ handler: \'emlatracker/emlatracker/ext/fragment/OpenApp\'}"\n\t\t\t\t\t  class="sapUiTinyMarginBegin"><customData><core:CustomData key="action" value="button3" /></customData></Link></HBox></items></HBox></core:FragmentDefinition>',
	"emlatracker/emlatracker/i18n/i18n.properties":'# This is the resource bundle for emlatracker.emlatracker\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=EMLA Tracker \n\n#YDES: Application description\nappDescription=My SAP application\n\n#XFLD,39\nemlatrackeremlatracker-display.flpTitle=EMLA Tracker \n',
	"emlatracker/emlatracker/manifest.json":'{"_version":"1.60.0","sap.app":{"id":"emlatracker.emlatracker","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.12"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.18.7","toolsId":"30de9afe-d4e3-413f-ad41-37a5d728126a"},"dataSources":{"mainService":{"uri":"service/EMLATrackerService/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"emlatrackeremlatracker-display":{"semanticObject":"emlatrackeremlatracker","action":"display","title":"{{emlatrackeremlatracker-display.flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.120.13","libs":{"sap.m":{},"sap.ui.core":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"emlatracker.emlatracker.i18n.i18n","supportedLocales":[""]}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties","settings":{"supportedLocales":[""]}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{},"routes":[{"pattern":":?query:","name":"EMLACustomersList","target":"EMLACustomersList"}],"targets":{"EMLACustomersList":{"type":"Component","id":"EMLACustomersList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/EMLACustomers","variantManagement":"Page","navigation":{},"initialLoad":"Auto","filterSettings":{"defaultFilterValues":[{"property":"status","operation":"NE","value":"Completed"}]},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"ResponsiveTable","enableExport":true,"enablePaste":false,"enableFullScreen":true},"columns":{"OpenApp":{"header":"External Actions","width":"185px","position":{"anchor":"DataField::customerName","placement":"Before"},"template":"emlatracker.emlatracker.ext.fragment.OpenApp"}},"actions":{"IconHelp":{"press":"emlatracker.emlatracker.ext.controller.IconHelpController.onOpenIconHelpDialog","visible":true,"enabled":true,"text":"Session Icons Help","icon":"sap-icon://sys-help"},"DataFieldForAction::Delete":{"visible":false},"StandardAction::Delete":{"visible":false},"Delete":{"visible":false}}}},"defaultTemplateAnnotationPath":"com.sap.vocabularies.UI.v1.SelectionPresentationVariant#table"}}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"lcap.EMLATracker"}}'
});
//# sourceMappingURL=Component-preload.js.map
